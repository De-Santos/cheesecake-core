PS C:\Users\miha1> kubectl get pods
NAME                             READY   STATUS    RESTARTS   AGE
eureka-server-75bf9fc495-x9v22   1/1     Running   0          85m
mongo-7c8864575f-f8b46           1/1     Running   0          10m
postgres-d4c47ccff-275xq         1/1     Running   0          8h
user-service-79cd989c4b-vszkf    1/1     Running   0          5h33m
PS C:\Users\miha1> kubectl exec -it mongo-7c8864575f-f8b46 -- mongo -u admin
OCI runtime exec failed: exec failed: unable to start container process: exec: "mongo": executable file not found in $PATH: unknown
command terminated with exit code 126
PS C:\Users\miha1> kubectl exec -it mongo-7c8864575f-f8b46 -- sh
# sudo apt-get update
sh: 1: sudo: not found
# apt-getupdate
sh: 2: apt-getupdate: not found
# apt-get update
Ign:1 http://repo.mongodb.org/apt/ubuntu jammy/mongodb-org/6.0 InRelease
Get:2 http://archive.ubuntu.com/ubuntu jammy InRelease [270 kB]
Get:3 http://security.ubuntu.com/ubuntu jammy-security InRelease [110 kB]
Get:4 http://repo.mongodb.org/apt/ubuntu jammy/mongodb-org/6.0 Release [3094 B]
Get:5 http://repo.mongodb.org/apt/ubuntu jammy/mongodb-org/6.0 Release.gpg [801 B]
Get:6 http://repo.mongodb.org/apt/ubuntu jammy/mongodb-org/6.0/multiverse amd64 Packages [10.8 kB]
Get:7 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 Packages [5557 B]
Get:8 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [119 kB]
Get:9 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [752 kB]
Get:10 http://archive.ubuntu.com/ubuntu jammy-backports InRelease [107 kB]
Get:11 http://archive.ubuntu.com/ubuntu jammy/multiverse amd64 Packages [266 kB]
Get:12 http://archive.ubuntu.com/ubuntu jammy/universe amd64 Packages [17.5 MB]
Get:13 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [807 kB]
Get:14 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [860 kB]
Get:15 http://archive.ubuntu.com/ubuntu jammy/restricted amd64 Packages [164 kB]
Get:16 http://archive.ubuntu.com/ubuntu jammy/main amd64 Packages [1792 kB]
Get:17 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [1091 kB]
Get:18 http://archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [808 kB]
Get:19 http://archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 Packages [10.9 kB]
Get:20 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [1136 kB]
Get:21 http://archive.ubuntu.com/ubuntu jammy-backports/main amd64 Packages [49.0 kB]
Get:22 http://archive.ubuntu.com/ubuntu jammy-backports/universe amd64 Packages [22.4 kB]
Fetched 25.9 MB in 8s (3393 kB/s)
Reading package lists... Done
# apt-get install mongodb-clients
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
Package mongodb-clients is not available, but is referred to by another package.
This may mean that the package is missing, has been obsoleted, or
is only available from another source

E: Package 'mongodb-clients' has no installation candidate
# apt-get install mongodb
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
Package mongodb is not available, but is referred to by another package.
This may mean that the package is missing, has been obsoleted, or
is only available from another source

E: Package 'mongodb' has no installation candidate
# apt-get install mongosh
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
E: Unable to locate package mongosh
# apt-get unstall sudo
E: Invalid operation unstall
# apt-get install sudo
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following NEW packages will be installed:
  sudo
0 upgraded, 1 newly installed, 0 to remove and 8 not upgraded.
Need to get 820 kB of archives.
After this operation, 2564 kB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 sudo amd64 1.9.9-1ubuntu2.2 [820 kB]
Fetched 820 kB in 0s (1716 kB/s)
debconf: delaying package configuration, since apt-utils is not installed
Selecting previously unselected package sudo.
(Reading database ... 7139 files and directories currently installed.)
Preparing to unpack .../sudo_1.9.9-1ubuntu2.2_amd64.deb ...
Unpacking sudo (1.9.9-1ubuntu2.2) ...
Setting up sudo (1.9.9-1ubuntu2.2) ...
Processing triggers for libc-bin (2.35-0ubuntu3.1) ...
# sudo apt-get install mongodb-clients
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
Package mongodb-clients is not available, but is referred to by another package.
This may mean that the package is missing, has been obsoleted, or
is only available from another source

E: Package 'mongodb-clients' has no installation candidate
# sudo apt-get update
Hit:1 http://archive.ubuntu.com/ubuntu jammy InRelease
Hit:2 http://archive.ubuntu.com/ubuntu jammy-updates InRelease
Ign:3 http://repo.mongodb.org/apt/ubuntu jammy/mongodb-org/6.0 InRelease
Hit:4 http://archive.ubuntu.com/ubuntu jammy-backports InRelease
Hit:5 http://security.ubuntu.com/ubuntu jammy-security InRelease
Hit:6 http://repo.mongodb.org/apt/ubuntu jammy/mongodb-org/6.0 Release
Reading package lists... Done
# ls
bin   data  docker-entrypoint-initdb.d  home        lib    lib64   media  opt   root  sbin  sys  usr
boot  dev   etc                         js-yaml.js  lib32  libx32  mnt    proc  run   srv   tmp  var
# sudo install mongodb
install: missing destination file operand after 'mongodb'
Try 'install --help' for more information.
# wget -qO - https://www.mongodb.org/static/pgp/server-6.0.asc | sudo apt-key add -
sh: 13: wget: not found
Warning: apt-key is deprecated. Manage keyring files in trusted.gpg.d instead (see apt-key(8)).
gpg: no valid OpenPGP data found.
# sudo apt-get install gnupg
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
gnupg is already the newest version (2.2.27-3ubuntu2.1).
0 upgraded, 0 newly installed, 0 to remove and 8 not upgraded.
# wget -qO - https://www.mongodb.org/static/pgp/server-6.0.asc | sudo apt-key add -
sh: 15: wget: not found
Warning: apt-key is deprecated. Manage keyring files in trusted.gpg.d instead (see apt-key(8)).
gpg: no valid OpenPGP data found.
# wget -qO - https://www.mongodb.org/static/pgp/server-6.0.asc | sudo apt-key add 8
sh: 16: wget: not found
Warning: apt-key is deprecated. Manage keyring files in trusted.gpg.d instead (see apt-key(8)).
gpg: can't open '8': No such file or directory
# wget -qO - https://www.mongodb.org/static/pgp/server-6.0.asc
sh: 17: wget: not found
# sudo apt-get install -y mongodb-mongosh
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
The following packages will be upgraded:
  mongodb-mongosh
1 upgraded, 0 newly installed, 0 to remove and 7 not upgraded.
Need to get 41.3 MB of archives.
After this operation, 12.5 MB of additional disk space will be used.
Get:1 http://repo.mongodb.org/apt/ubuntu jammy/mongodb-org/6.0/multiverse amd64 mongodb-mongosh amd64 1.7.1 [41.3 MB]
Fetched 41.3 MB in 8s (5239 kB/s)
debconf: delaying package configuration, since apt-utils is not installed
(Reading database ... 7207 files and directories currently installed.)
Preparing to unpack .../mongodb-mongosh_1.7.1_amd64.deb ...
Unpacking mongodb-mongosh (1.7.1) over (1.6.2) ...
Setting up mongodb-mongosh (1.7.1) ...
# mongo
sh: 19: mongo: not found
# mongosh
Current Mongosh Log ID: 63f2aa22837739df0e368c3d
Connecting to:          mongodb://127.0.0.1:27017/?directConnection=true&serverSelectionTimeoutMS=2000&appName=mongosh+1.7.1
Using MongoDB:          6.0.4
Using Mongosh:          1.7.1

For mongosh info see: https://docs.mongodb.com/mongodb-shell/


To help improve our products, anonymous usage data is collected and sent to MongoDB periodically (https://www.mongodb.com/legal/privacy-policy).
You can opt-out by running the disableTelemetry() command.

test> show dbs
MongoServerError: command listDatabases requires authentication
test>

test> mongo -u admin -p password
Uncaught:
SyntaxError: Missing semicolon. (1:8)

> 1 | mongo -u admin -p password
    |         ^
  2 |

test> exit
#
mongo -u admin -p password#
sh: 22: mongo: not found
# mongodb -u amin -p password
sh: 23: mongodb: not found
# mongosh -u admin -p password
Current Mongosh Log ID: 63f2aafc1d7d0b2a3e725f60
Connecting to:          mongodb://<credentials>@127.0.0.1:27017/?directConnection=true&serverSelectionTimeoutMS=2000&appName=mongosh+1.7.1
Using MongoDB:          6.0.4
Using Mongosh:          1.7.1

For mongosh info see: https://docs.mongodb.com/mongodb-shell/

------
   The server generated these startup warnings when booting
   2023-02-19T22:41:06.471+00:00: Using the XFS filesystem is strongly recommended with the WiredTiger storage engine. See http://dochub.mongodb.org/core/prodnotes-filesystem
   2023-02-19T22:41:06.797+00:00: /sys/kernel/mm/transparent_hugepage/enabled is 'always'. We suggest setting it to 'never'
   2023-02-19T22:41:06.797+00:00: vm.max_map_count is too low
------

------
   Enable MongoDB's free cloud-based monitoring service, which will then receive and display
   metrics about your deployment (disk utilization, CPU, operation statistics, etc).

   The monitoring data will be available on a MongoDB website with a unique URL accessible to you
   and anyone you share the URL with. MongoDB may use this information to make product
   improvements and to suggest MongoDB products and deployment options to you.

   To enable free monitoring, run the following command: db.enableFreeMonitoring()
   To permanently disable this reminder, run the following command: db.disableFreeMonitoring()
------

test> show dbs
admin   100.00 KiB
config   12.00 KiB
local    72.00 KiB
test> command terminated with exit code 137
PS C:\Users\miha1> kubectl get pods
NAME                             READY   STATUS              RESTARTS      AGE
eureka-server-75bf9fc495-x9v22   1/1     Running             0             105m
mongo-7b87987857-gsxmd           0/1     RunContainerError   0 (11s ago)   14s
postgres-d4c47ccff-275xq         1/1     Running             0             9h
user-service-79cd989c4b-vszkf    1/1     Running             0             5h53m
PS C:\Users\miha1> kubectl logs mongo-7b87987857-gsxmd
PS C:\Users\miha1> kubectl get pods
NAME                             READY   STATUS    RESTARTS   AGE
eureka-server-75bf9fc495-x9v22   1/1     Running   0          107m
mongo-67696f987f-gl94v           1/1     Running   0          6s
postgres-d4c47ccff-275xq         1/1     Running   0          9h
user-service-79cd989c4b-vszkf    1/1     Running   0          5h54m
PS C:\Users\miha1> kubectl logs mongo-67696f987f-gl94v
Get:1 http://archive.ubuntu.com/ubuntu jammy InRelease [270 kB]
Get:2 http://security.ubuntu.com/ubuntu jammy-security InRelease [110 kB]
Get:3 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [860 kB]
Get:4 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [119 kB]
Get:5 http://archive.ubuntu.com/ubuntu jammy-backports InRelease [107 kB]
Ign:6 http://repo.mongodb.org/apt/ubuntu jammy/mongodb-org/6.0 InRelease
Get:7 http://archive.ubuntu.com/ubuntu jammy/universe amd64 Packages [17.5 MB]
Get:8 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [752 kB]
Get:9 http://repo.mongodb.org/apt/ubuntu jammy/mongodb-org/6.0 Release [3094 B]
Get:10 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 Packages [5557 B]
Get:11 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [807 kB]
Get:12 http://repo.mongodb.org/apt/ubuntu jammy/mongodb-org/6.0 Release.gpg [801 B]
Get:13 http://repo.mongodb.org/apt/ubuntu jammy/mongodb-org/6.0/multiverse amd64 Packages [10.8 kB]
Get:14 http://archive.ubuntu.com/ubuntu jammy/main amd64 Packages [1792 kB]
Get:15 http://archive.ubuntu.com/ubuntu jammy/multiverse amd64 Packages [266 kB]
Get:16 http://archive.ubuntu.com/ubuntu jammy/restricted amd64 Packages [164 kB]
Get:17 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [1136 kB]
Get:18 http://archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [808 kB]
Get:19 http://archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 Packages [10.9 kB]
Get:20 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [1091 kB]
Get:21 http://archive.ubuntu.com/ubuntu jammy-backports/main amd64 Packages [49.0 kB]
Get:22 http://archive.ubuntu.com/ubuntu jammy-backports/universe amd64 Packages [22.4 kB]
Fetched 25.9 MB in 6s (4183 kB/s)
Reading package lists...
Reading package lists...
Building dependency tree...
Reading state information...
The following NEW packages will be installed:
  sudo
0 upgraded, 1 newly installed, 0 to remove and 8 not upgraded.
Need to get 820 kB of archives.
After this operation, 2564 kB of additional disk space will be used.
Get:1 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 sudo amd64 1.9.9-1ubuntu2.2 [820 kB]
debconf: delaying package configuration, since apt-utils is not installed
Fetched 820 kB in 1s (774 kB/s)
Selecting previously unselected package sudo.
(Reading database ... 7139 files and directories currently installed.)
Preparing to unpack .../sudo_1.9.9-1ubuntu2.2_amd64.deb ...
Unpacking sudo (1.9.9-1ubuntu2.2) ...
Setting up sudo (1.9.9-1ubuntu2.2) ...
Processing triggers for libc-bin (2.35-0ubuntu3.1) ...
Reading package lists...
Building dependency tree...
Reading state information...
The following packages will be upgraded:
  mongodb-mongosh
1 upgraded, 0 newly installed, 0 to remove and 7 not upgraded.
Need to get 41.3 MB of archives.
After this operation, 12.5 MB of additional disk space will be used.
Get:1 http://repo.mongodb.org/apt/ubuntu jammy/mongodb-org/6.0/multiverse amd64 mongodb-mongosh amd64 1.7.1 [41.3 MB]
PS C:\Users\miha1> kubectl exec -it mongo-67696f987f-gl94v -- mongosh -u admin -p password
Current Mongosh Log ID: 63f2ada6f4ed718c04d5aaff
Connecting to:          mongodb://<credentials>@127.0.0.1:27017/?directConnection=true&serverSelectionTimeoutMS=2000&appName=mongosh+1.6.2
MongoNetworkError: connect ECONNREFUSED 127.0.0.1:27017
command terminated with exit code 1